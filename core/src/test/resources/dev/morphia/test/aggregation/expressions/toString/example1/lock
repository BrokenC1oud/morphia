had to rework the pipeline to not use variables
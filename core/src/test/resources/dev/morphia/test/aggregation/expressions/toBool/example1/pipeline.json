
shippedConversionStage = {
   $addFields: {
      convertedShippedFlag: { 
         $switch: { 
            branches: [
              { case: { $eq: [ "$shipped", "false" ] }, then: false } , 
              { case: { $eq: [ "$shipped", "" ] }, then: false }
            ],
            default: { $toBool: "$shipped" }
        }
      }
   }
};

unshippedMatchStage = {
   $match: { "convertedShippedFlag": false }
};
db.orders.aggregate( [
  shippedConversionStage,
  unshippedMatchStage
] 